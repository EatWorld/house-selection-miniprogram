<!--pages/detail/detail.wxml-->
<view class="container">
  <!-- ç°ä»£åŒ–æ¥¼æ ‹ä¿¡æ¯å¤´éƒ¨ -->
  <view class="building-header fade-in">
    <view class="header-background"></view>
    <view class="header-content">
      <view class="building-avatar">
        <view class="building-icon" style="background-color: {{buildingInfo.color}}">ğŸ </view>
        <view class="building-badge">{{buildingInfo.type || 'Aå‹'}}</view>
      </view>
      <view class="building-info">
        <view class="building-title">{{buildingInfo.name}}</view>
        <view class="building-subtitle">{{buildingInfo.details}}</view>
        <view class="building-stats">
          <view class="stat-item">
            <text class="stat-icon">ğŸ“</text>
            <text class="stat-text">{{buildingInfo.area || '120ã¡'}}</text>
          </view>
          <view class="stat-divider"></view>
          <view class="stat-item">
            <text class="stat-icon">ğŸ </text>
            <text class="stat-text">{{buildingInfo.rooms || '3å®¤2å…'}}</text>
          </view>
          <view class="stat-divider"></view>
          <view class="stat-item">
            <text class="stat-icon">ğŸ“</text>
            <text class="stat-text">{{buildingInfo.floor || '6å±‚'}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- å¢å¼ºçš„æˆ·å‹å›¾å±•ç¤º -->
  <view class="image-section fade-in" style="animation-delay: 0.1s">
    <view class="section-header">
      <view class="section-title">æˆ·å‹å›¾è¯¦æƒ…</view>
      <view class="section-subtitle">ç‚¹å‡»å›¾ç‰‡å¯æ”¾å¤§æŸ¥çœ‹</view>
    </view>
    
    <view class="image-container">
      <view class="image-wrapper">
        <image 
          src="{{buildingInfo.image}}" 
          mode="widthFix" 
          class="floorplan-image"
          bindtap="previewImage"
          lazy-load="{{true}}"
          show-menu-by-longpress="{{true}}"
        />
        <view class="image-overlay">
          <view class="overlay-btn" bindtap="previewImage">
            <text class="overlay-icon">ğŸ”</text>
          </view>
        </view>
      </view>
      <view class="image-description">
        <view class="desc-title">æˆ·å‹è¯´æ˜</view>
        <view class="desc-content">{{buildingInfo.planDescription || 'ç²¾å¿ƒè®¾è®¡çš„æˆ·å‹å¸ƒå±€ï¼Œå……åˆ†åˆ©ç”¨æ¯ä¸€å¯¸ç©ºé—´'}}</view>
      </view>
    </view>
    
    <!-- ç°ä»£åŒ–æ“ä½œæŒ‰é’® -->
    <view class="action-buttons">
      <button class="btn btn-primary" bindtap="previewImage">
        <text class="btn-icon">ğŸ‘ï¸</text>
        <text class="btn-text">é¢„è§ˆå¤§å›¾</text>
      </button>
      <button class="btn btn-secondary" bindtap="shareImage">
        <text class="btn-icon">ğŸ“¤</text>
        <text class="btn-text">åˆ†äº«å¥½å‹</text>
      </button>
      <button class="btn btn-outline" bindtap="saveImage">
        <text class="btn-icon">ğŸ’¾</text>
        <text class="btn-text">ä¿å­˜å›¾ç‰‡</text>
      </button>
    </view>
  </view>

  <!-- å¢å¼ºçš„æ¥¼æ ‹ç‰¹è‰² -->
  <view class="features-section fade-in" style="animation-delay: 0.2s" wx:if="{{buildingFeatures.length > 0}}">
    <view class="section-header">
      <view class="section-title">æ¥¼æ ‹ç‰¹è‰²</view>
      <view class="section-subtitle">ç²¾å¿ƒè®¾è®¡çš„å±…ä½ä½“éªŒ</view>
    </view>
    
    <view class="features-grid">
      <view class="feature-card" wx:for="{{buildingFeatures}}" wx:key="index">
        <view class="feature-icon-wrapper">
          <view class="feature-icon">{{item.icon}}</view>
        </view>
        <view class="feature-content">
          <view class="feature-title">{{item.title || item.text}}</view>
          <view class="feature-desc">{{item.description || 'ä¼˜è´¨é…ç½®'}}</view>
        </view>
      </view>
    </view>
  </view>

  <!-- æ–°å¢æˆ¿æºè¯¦æƒ… -->
  <view class="details-section fade-in" style="animation-delay: 0.3s">
    <view class="section-header">
      <view class="section-title">æˆ¿æºè¯¦æƒ…</view>
      <view class="section-subtitle">è¯¦ç»†ä¿¡æ¯ä¸€è§ˆ</view>
    </view>
    
    <view class="details-grid">
      <view class="detail-item">
        <view class="detail-label">å»ºç­‘é¢ç§¯</view>
        <view class="detail-value">{{buildingInfo.area || '120ã¡'}}</view>
      </view>
      <view class="detail-item">
        <view class="detail-label">æˆ·å‹ç»“æ„</view>
        <view class="detail-value">{{buildingInfo.rooms || '3å®¤2å…2å«'}}</view>
      </view>
      <view class="detail-item">
        <view class="detail-label">æ¥¼å±‚ä¿¡æ¯</view>
        <view class="detail-value">{{buildingInfo.floor || 'å…±6å±‚'}}</view>
      </view>
      <view class="detail-item">
        <view class="detail-label">æœå‘æ–¹ä½</view>
        <view class="detail-value">{{buildingInfo.direction || 'å—åŒ—é€šé€'}}</view>
      </view>
      <view class="detail-item">
        <view class="detail-label">è£…ä¿®çŠ¶å†µ</view>
        <view class="detail-value">{{buildingInfo.decoration || 'æ¯›å¯æˆ¿'}}</view>
      </view>
      <view class="detail-item">
        <view class="detail-label">äº¤æˆ¿æ—¶é—´</view>
        <view class="detail-value">{{buildingInfo.deliveryTime || '2025å¹´åº•'}}</view>
      </view>
    </view>
  </view>

  <!-- ç°ä»£åŒ–è¿”å›æŒ‰é’® -->
  <view class="back-section fade-in" style="animation-delay: 0.4s">
    <button class="back-button" bindtap="goBack">
      <text class="back-icon">â†</text>
      <text class="back-text">è¿”å›æ¥¼æ ‹åˆ—è¡¨</text>
    </button>
  </view>
</view>